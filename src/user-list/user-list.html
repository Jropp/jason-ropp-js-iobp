<link rel="import" href="polymer.html">
<link rel="import" href="user-component.html">
<dom-module id="user-list">
  <template>
    <style>
      :host {
        display: block;
        padding: 10px;
      }

      .default-card {
        background-color: #B1A296;
        width: 300px;
        padding: 10px;
        margin: 10px;
        border-radius: 5px;
        box-shadow: 3px 3px 2px black;
        height: 50px;
      }

      .default-card:hover {
        height: 230px;
        transition: height .4s ease-out;
      }

      .default-card:not(:hover) {
        height: 50px;
        transition: height .4s ease-in;
      }

      .default-card:hover>h3 {
        opacity: 1;
        transition: opacity 1.4s;
      }

      hgroup>h3 {
        opacity: 0;
      }

      button {
        background-color: #7395AE;
        color: black;
        border: none;
      }
    </style>
    <h2>[[headerMessage(users)]]</h2>

    <template is="dom-repeat" items="[[users]]" as="user">
      <user-component collapsed="true" mode="display" user="[[user]]">
      </user-component>
    </template>

  </template>
  <script>
    'use strict';
    class UserList extends Polymer.Element {
      static get is() { return 'user-list'; }
      static get properties() {
        return {
          users: {
            type: Array,
            value: () => JSON.parse(localStorage.getItem('onboardProjectUsers'))
          }
        };
      }

      headerMessage() {
        return (this.users.length) ? '' : 'There are currently no users in our database.';

      }
    }

    customElements.define(UserList.is, UserList);
  </script>
</dom-module>
